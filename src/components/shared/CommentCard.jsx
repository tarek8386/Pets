import React from "react";

const CommentCard = ({ comment,  isReply }) => {
  const { user, time, text, likes, replies, share } = comment;

  return (
    <div className={`relative flex space-x-3 mb-6 `}>
        {/* ${isReply ? 'ml-1' : ''} */}
    {/* Connector Line for Replies */}
    {isReply && (
      <div className="absolute left-8 top-0 w-20 h-full  -z-10">
        <div className="w-full border border-t-0 border-r-0 border-gray-300 h-full rounded-2xl"></div>
      </div>
    )}
      <img
        src={user.avatar}
        alt={user.name}
        className="w-10 h-10 rounded-full object-cover"
      />
      <div className="flex-1">
        <div className="flex items-center gap-4">
          <h3 className="text-[#2F2F2F] font-noto text-[18px] not-italic font-semibold leading-[23.76px] tracking-[-0.36px]">
            {user.name}
          </h3>
          <p className="text-[#757575] text-center font-nunito text-[12px] not-italic font-normal leading-[19.68px]">
            {time}
          </p>
        </div>
        <p className="text-[#757575] font-nunito text-[16px] not-italic font-normal leading-[26.24px] my-2">
          {text}
        </p>
        <div className="flex items-center gap-4 text-[#757575] text-center font-nunito text-[16px] not-italic font-semibold leading-[26.24px] capitalize">
          <div className="flex items-center gap-1">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <mask
                id="mask0_1355_2400"
                style={{
                  maskType: "luminance",
                }}
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="16"
                height="16"
              >
                <path d="M0 0H16V16H0V0Z" fill="white" />
              </mask>
              <g mask="url(#mask0_1355_2400)">
                <mask
                  id="mask1_1355_2400"
                  style={{
                    maskType: "luminance",
                  }}
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="16"
                  height="16"
                >
                  <path d="M0 0H16V16H0V0Z" fill="white" />
                </mask>
                <g mask="url(#mask1_1355_2400)">
                  <path
                    d="M11.029 3C10.3211 3 9.68017 3.28494 9.1062 3.85482C8.92002 4.03966 8.75256 4.24324 8.60383 4.46554C8.53189 4.57306 8.47979 4.65909 8.44753 4.72361C8.43285 4.75297 8.41544 4.78062 8.39532 4.80656C8.37518 4.8325 8.35272 4.85622 8.32792 4.87773C8.30312 4.89924 8.27645 4.91812 8.24793 4.93438C8.21941 4.95064 8.18957 4.96396 8.15843 4.97434C8.12728 4.98472 8.09542 4.99197 8.06285 4.99607C8.03028 5.00018 7.99762 5.00107 7.96487 4.99874C7.93212 4.99641 7.89992 4.99091 7.86825 4.98225C7.83659 4.97358 7.80607 4.9619 7.77671 4.94722C7.67733 4.89753 7.60279 4.82299 7.5531 4.72361C7.52084 4.65909 7.46874 4.57306 7.3968 4.46554C7.24807 4.24324 7.08061 4.03966 6.89444 3.85482C6.32046 3.28494 5.6795 3 4.97156 3C4.6374 3 4.31837 3.06645 4.01445 3.19936C3.72113 3.32763 3.46055 3.50909 3.23271 3.74374C3.00511 3.97814 2.82796 4.24715 2.70128 4.55077C2.57077 4.86353 2.50378 5.19009 2.50029 5.53044C2.48584 6.96666 3.02082 8.34578 4.10522 9.66778C4.57758 10.2436 5.16656 10.8265 5.87217 11.4163C6.46282 11.9101 7.17205 12.4379 7.99986 12.9998C8.8279 12.4377 9.53766 11.9101 10.1282 11.4163C10.8338 10.8265 11.4228 10.2436 11.8952 9.66778C12.9796 8.34575 13.5147 6.96659 13.5003 5.5303C13.4968 5.19004 13.4299 4.86353 13.2994 4.55077C13.1727 4.24715 12.9955 3.97814 12.7679 3.74374C12.5401 3.50909 12.2795 3.32763 11.9862 3.19936C11.6823 3.06645 11.3632 3 11.029 3ZM11.029 2C11.5026 2 11.9552 2.09438 12.3869 2.28313C12.8002 2.46386 13.1663 2.71853 13.4854 3.04712C13.8011 3.37236 14.0468 3.74521 14.2222 4.16569C14.4028 4.59839 14.4955 5.04993 14.5003 5.52033C14.517 7.19881 13.9063 8.7927 12.6683 10.302C12.1562 10.9263 11.5233 11.5535 10.7697 12.1836C10.1535 12.6987 9.41786 13.2464 8.56281 13.8268C8.39309 13.9423 8.20559 14 8.00032 14C7.79504 14 7.60769 13.9424 7.43828 13.8271C6.58287 13.2465 5.84705 12.6987 5.23081 12.1836C4.47709 11.5535 3.84417 10.9263 3.33205 10.302C2.09402 8.7927 1.48345 7.19877 1.50034 5.52018C1.50516 5.04989 1.59785 4.59839 1.7784 4.16569C1.95384 3.74521 2.19946 3.37236 2.51527 3.04712C2.83432 2.71853 3.20049 2.46386 3.61378 2.28313C4.04541 2.09438 4.49801 2 4.97156 2C5.51442 2 6.03136 2.12144 6.52238 2.36433C6.9079 2.55504 7.26677 2.81532 7.599 3.14518C7.83249 3.377 8.04213 3.63176 8.22793 3.90946C8.32326 4.05194 8.39646 4.17425 8.44753 4.27639L8.00032 4.5L7.5531 4.27639C7.60417 4.17425 7.67737 4.05194 7.7727 3.90946C7.9585 3.63176 8.16814 3.377 8.40163 3.14518C8.73386 2.81532 9.09273 2.55504 9.47825 2.36433C9.96928 2.12144 10.4862 2 11.029 2Z"
                    fill="#757575"
                  />
                </g>
              </g>
            </svg>{" "}
            {likes}
          </div>
          <button className="hover:underline">Reply</button>
          <div className="flex items-center gap-1">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <mask
                id="mask0_1355_2415"
                style={{
                  maskType: "luminance",
                }}
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="16"
                height="16"
              >
                <path d="M0 0H16V16H0V0Z" fill="white" />
              </mask>
              <g mask="url(#mask0_1355_2415)">
                <mask
                  id="mask1_1355_2415"
                  style={{
                    maskType: "luminance",
                  }}
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="16"
                  height="16"
                >
                  <path d="M0 0H16V16H0V0Z" fill="white" />
                </mask>
                <g mask="url(#mask1_1355_2415)">
                  <path
                    d="M4 6C4.27105 6 4.53059 6.05246 4.77864 6.15738C5.01798 6.25861 5.22984 6.40141 5.41422 6.58579C5.59859 6.77016 5.74139 6.98202 5.84262 7.22136C5.94754 7.46941 6 7.72895 6 8C6 8.27105 5.94754 8.53059 5.84262 8.77864C5.74139 9.01798 5.59859 9.22984 5.41422 9.41422C5.22984 9.59859 5.01798 9.74139 4.77864 9.84262C4.53059 9.94754 4.27105 10 4 10C3.72895 10 3.46941 9.94754 3.22136 9.84262C2.98202 9.74139 2.77016 9.59859 2.58579 9.41422C2.40141 9.22984 2.25861 9.01798 2.15738 8.77864C2.05246 8.53059 2 8.27105 2 8C2 7.72895 2.05246 7.46941 2.15738 7.22136C2.25861 6.98202 2.40141 6.77016 2.58579 6.58579C2.77016 6.40141 2.98202 6.25861 3.22136 6.15738C3.46941 6.05246 3.72895 6 4 6ZM4 7C3.72386 7 3.48815 7.09763 3.29289 7.29289C3.09763 7.48815 3 7.72386 3 8C3 8.27614 3.09763 8.51185 3.29289 8.7071C3.48815 8.90237 3.72386 9 4 9C4.27614 9 4.51185 8.90237 4.7071 8.7071C4.90237 8.51185 5 8.27614 5 8C5 7.72386 4.90237 7.48815 4.7071 7.29289C4.51185 7.09763 4.27614 7 4 7Z"
                    fill="#757575"
                  />
                  <path
                    d="M12 1.5C12.271 1.5 12.5306 1.55246 12.7786 1.65738C13.018 1.75861 13.2298 1.90141 13.4142 2.08579C13.5986 2.27016 13.7414 2.48202 13.8426 2.72136C13.9475 2.96941 14 3.22895 14 3.5C14 3.77105 13.9475 4.03059 13.8426 4.27864C13.7414 4.51798 13.5986 4.72984 13.4142 4.91422C13.2298 5.09859 13.018 5.24139 12.7786 5.34262C12.5306 5.44754 12.271 5.5 12 5.5C11.729 5.5 11.4694 5.44754 11.2214 5.34262C10.982 5.24139 10.7702 5.09859 10.5858 4.91422C10.4014 4.72984 10.2586 4.51798 10.1574 4.27864C10.0525 4.03059 10 3.77105 10 3.5C10 3.22895 10.0525 2.96941 10.1574 2.72136C10.2586 2.48202 10.4014 2.27016 10.5858 2.08579C10.7702 1.90141 10.982 1.75861 11.2214 1.65738C11.4694 1.55246 11.729 1.5 12 1.5ZM12 2.5C11.7239 2.5 11.4882 2.59763 11.2929 2.79289C11.0976 2.98815 11 3.22386 11 3.5C11 3.77614 11.0976 4.01185 11.2929 4.2071C11.4882 4.40237 11.7239 4.5 12 4.5C12.2761 4.5 12.5118 4.40237 12.7071 4.2071C12.9024 4.01185 13 3.77614 13 3.5C13 3.22386 12.9024 2.98815 12.7071 2.79289C12.5118 2.59763 12.2761 2.5 12 2.5Z"
                    fill="#757575"
                  />
                  <path
                    d="M12 10.5C12.271 10.5 12.5306 10.5525 12.7786 10.6574C13.018 10.7586 13.2298 10.9014 13.4142 11.0858C13.5986 11.2702 13.7414 11.482 13.8426 11.7214C13.9475 11.9694 14 12.229 14 12.5C14 12.771 13.9475 13.0306 13.8426 13.2786C13.7414 13.518 13.5986 13.7298 13.4142 13.9142C13.2298 14.0986 13.018 14.2414 12.7786 14.3426C12.5306 14.4475 12.271 14.5 12 14.5C11.729 14.5 11.4694 14.4475 11.2214 14.3426C10.982 14.2414 10.7702 14.0986 10.5858 13.9142C10.4014 13.7298 10.2586 13.518 10.1574 13.2786C10.0525 13.0306 10 12.771 10 12.5C10 12.229 10.0525 11.9694 10.1574 11.7214C10.2586 11.482 10.4014 11.2702 10.5858 11.0858C10.7702 10.9014 10.982 10.7586 11.2214 10.6574C11.4694 10.5525 11.729 10.5 12 10.5ZM12 11.5C11.7239 11.5 11.4882 11.5976 11.2929 11.7929C11.0976 11.9882 11 12.2239 11 12.5C11 12.7761 11.0976 13.0118 11.2929 13.2071C11.4882 13.4024 11.7239 13.5 12 13.5C12.2761 13.5 12.5118 13.4024 12.7071 13.2071C12.9024 13.0118 13 12.7761 13 12.5C13 12.2239 12.9024 11.9882 12.7071 11.7929C12.5118 11.5976 12.2761 11.5 12 11.5Z"
                    fill="#757575"
                  />
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M10.4472 3.79867C10.6879 3.66329 10.9928 3.74866 11.1281 3.98933C11.2635 4.23001 11.1782 4.53487 10.9375 4.67025L5.55186 7.69962C5.31118 7.83501 5.00632 7.74965 4.87094 7.50897C4.73556 7.26829 4.82092 6.96343 5.0616 6.82805L10.4472 3.79867ZM4.87094 8.48933C4.73556 8.73001 4.82092 9.03487 5.0616 9.17025L10.4472 12.1996C10.6879 12.335 10.9928 12.2497 11.1281 12.009C11.2635 11.7683 11.1782 11.4634 10.9375 11.328L5.55186 8.29867C5.31118 8.16329 5.00632 8.24865 4.87094 8.48933Z"
                    fill="#757575"
                  />
                </g>
              </g>
            </svg>{" "}
            {share}
          </div>
        </div>

        {/* Nested Replies */}
        {replies && replies.length > 0 && (
          <div className="mt-4 md:mt-6 lg:mt-8 ">
            {replies.map((reply, index) => (
              <CommentCard key={index} comment={reply} isReply={true} />
            ))}
          </div>
        )}
      </div>
    </div>
  );
};

export default CommentCard;
